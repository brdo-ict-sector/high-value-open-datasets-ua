---
title: "–ü—É–±–ª—ñ–∫–∞—Ü—ñ—ó –Ω–∞–±–æ—Ä—ñ–≤ –¥–∞–Ω–∏—Ö –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ –Ω–∞ –ü–æ—Ä—Ç–∞–ª—ñ –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –¥–∞–Ω–∏—Ö"
format: html
editor: visual
---

```{r}
#| include: false

library(tidyverse)
library(readxl)
library(gt)
library(scales)

setwd("C:/Users/MykolaKuzin/OneDrive - NGO 'BETTER REGULATION DELIVERY OFFICE'/Desktop/projects/open_data/postanova_835/Q4 2025/clean data")

list.files()

excel_sheets('13_result_table_for_viz - 2025-11-11.xlsx')

my_table <- read_xlsx('13_result_table_for_viz - 2025-11-11.xlsx', sheet = 'q2_25_prep')

names(my_table)

df <- my_table |> filter(high_value == TRUE)

df <- df |> filter(!dataset_id %in% 'cae2c166-cd6f-4094-8f16-09cae3721759') # —Ü–µ –¥–≤—ñ—á—ñ —Ç–æ–π —Å–∞–º–∏–π –Ω–∞–±—ñ—Ä —É –∞–ø–∞—Ä–∞—Ç–∞ –í–†

package_formats <- read_xlsx('13_result_table_for_viz - 2025-11-11.xlsx', sheet = 'package_formats')
```

```{r}
#| include: false

high_value_packs_id <-  df |> 
  distinct(dataset_id) |> 
  filter(!is.na(dataset_id)) |> 
  as_vector() 

package_formats <- package_formats |> filter(dataset_id %in% high_value_packs_id)

package_formats <- package_formats |> 
  left_join(df |> select(dataset_id, org_name_postanova, required_dataset), 
            join_by(dataset_id))

df |> distinct(org_name_postanova) |> nrow()
```

–£ –≤–µ—Ä–µ—Å–Ω–µ–≤–∏—Ö –∑–º—ñ–Ω–∞—Ö –¥–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∏ –ö–ú–£ ‚Ññ 835 –∑'—è–≤–∏–ª–æ—Å—è –ø–æ–Ω—è—Ç—Ç—è "–Ω–∞–±–æ—Ä—ñ–≤ –¥–∞–Ω–∏—Ö –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ", —â–æ –º–∞—î —Ç–∞–∫–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:

> [–Ω–∞–±—ñ—Ä –¥–∞–Ω–∏—Ö –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ](https://zakon.rada.gov.ua/laws/show/835-2015-%D0%BF#n2613 "–ø–µ—Ä–µ–π—Ç–∏ –¥–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∏") - –Ω–∞–±—ñ—Ä –¥–∞–Ω–∏—Ö,¬†—è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Å—É—Å–ø—ñ–ª—å–Ω–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, –ø–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —è–∫–æ—ó —Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–Ω–∏–π –µ—Ñ–µ–∫—Ç –¥–ª—è —Ä–æ–∑–≤–∏—Ç–∫—É —Å—É—Å–ø—ñ–ª—å—Å—Ç–≤–∞, –¥–µ—Ä–∂–∞–≤–∏, –µ–∫–æ–Ω–æ–º—ñ–∫–∏ —Ç–∞ –∑–∞—Ö–∏—Å—Ç—É –Ω–∞–≤–∫–æ–ª–∏—à–Ω—å–æ–≥–æ –ø—Ä–∏—Ä–æ–¥–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞;

–ó–∞–≥–∞–ª–æ–º –ø–æ—Å—Ç–∞–Ω–æ–≤–∞ –∑–æ–±–æ–≤'—è–∑—É—î `r df |> distinct(org_name_postanova) |> nrow()` —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫—ñ–≤ –æ–ø—Ä–∏–ª—é–¥–Ω–∏—Ç–∏ `r df |> distinct(org_name_postanova, required_dataset) |> nrow()` –Ω–∞–±–æ—Ä–∏ –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ.

### –ü–µ—Ä–µ–ª—ñ–∫ –Ω–∞–±–æ—Ä—ñ–≤ –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ

–ù–∏–∂—á–µ –Ω–∞–≤–µ–¥–µ–Ω–æ –ø–æ–≤–Ω–∏–π –ø–µ—Ä–µ–ª—ñ–∫ –Ω–∞–±–æ—Ä—ñ–≤ –¥–∞–Ω–∏—Ö –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ, —â–æ –ø—ñ–¥–ª—è–≥–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—é –∑–≥—ñ–¥–Ω–æ –∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–æ—é:

```{r}
#| echo: false
df |> 
  select(
    –†–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫ = org_name_postanova, 
    –ù–∞–±—ñ—Ä = required_dataset,
    `–°—Ç–∞—Ç—É—Å –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó` = status) |> 
  arrange(–†–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫) |>
  mutate(`#` = dense_rank(–†–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫),
        `#_–Ω–∞–±–æ—Ä—É` = row_number(–†–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫),
        `–°—Ç–∞—Ç—É—Å –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó` = if_else(`–°—Ç–∞—Ç—É—Å –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó` == '–Ω–∞—è–≤–Ω–∏–π',
                                  '–æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏–π',
                                  `–°—Ç–∞—Ç—É—Å –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó`)) |>
  select(`#`, –†–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫, `#_–Ω–∞–±–æ—Ä—É`, –ù–∞–±—ñ—Ä, `–°—Ç–∞—Ç—É—Å –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó`) |>
  gt()
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—è –Ω–∞–±–æ—Ä—ñ–≤

```{r}
#| include: false
published_data <-   
  df |> 
    select(
      –†–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫ = org_name_postanova, 
      –ù–∞–±—ñ—Ä = required_dataset,
      available_dataset,
      on_time_update) |>
    mutate(
      aux1 = if_else(is.na(available_dataset), 0, 1),
      `–ü—ñ–¥–ª—è–≥–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—é` = n(),
      `–û–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ –Ω–∞–±–æ—Ä—ñ–≤` = sum(aux1),
      `–û–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ –≤—á–∞—Å–Ω–æ` = sum(on_time_update == '–≤—á–∞—Å–Ω–æ' | on_time_update == '–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö'),
      `–ß–∞—Å—Ç–∫–∞ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö` = paste0((sum(aux1) / n())*100, '%'),
      `–ß–∞—Å—Ç–∫–∞ –≤—á–∞—Å–Ω–æ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö` = paste0(round((`–û–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ –≤—á–∞—Å–Ω–æ` / n())*100,2), '%'),
      .by = –†–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫
    ) |> select(-aux1)

published_data_agg <- published_data |> 
  distinct(–†–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫,  `–ü—ñ–¥–ª—è–≥–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—é`, 
           `–û–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ –Ω–∞–±–æ—Ä—ñ–≤`, `–ß–∞—Å—Ç–∫–∞ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö`, `–û–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ –≤—á–∞—Å–Ω–æ`, `–ß–∞—Å—Ç–∫–∞ –≤—á–∞—Å–Ω–æ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö`) |>
  arrange(desc(`–ü—ñ–¥–ª—è–≥–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—é`), desc(`–û–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ –Ω–∞–±–æ—Ä—ñ–≤`))

# —Ü–µ 23 —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫–∏, —è–∫—ñ –æ–ø—Ä–∏–ª—é–¥–Ω–∏–ª–∏ —É—Å—ñ –Ω–∞–±–æ—Ä–∏ 
published_data_agg |> filter(`–ß–∞—Å—Ç–∫–∞ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö` == '100%') |> nrow()

# —Ü–µ 10 —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫—ñ–≤, —è–∫—ñ –Ω–µ –æ–ø—Ä–∏–ª—é–¥–Ω–∏–ª–∏ –∂–æ–¥–Ω–æ–≥–æ
published_data_agg |> filter(`–ß–∞—Å—Ç–∫–∞ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö` == '0%') |> nrow()
published_data_agg |> filter(`–ß–∞—Å—Ç–∫–∞ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö` == '0%')

# —Ü–µ —á–∞—Å—Ç–∫–∞ —Ç–∏—Ö, —Ö—Ç–æ –º–∞—î –æ–ø—Ä–∏–ª—é–¥–Ω–∏—Ç–∏ –ª–∏—à–µ –æ–¥–∏–Ω –Ω–∞–±—ñ—Ä - 54%
published_data_agg |> filter(`–ü—ñ–¥–ª—è–≥–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—é` == 1) |> nrow() /
  37

# –∑–∞–≥–∞–ª–æ–º, –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ 74.39% –Ω–∞–±–æ—Ä—ñ–≤ –≤—ñ–¥ —Ç–∏—Ö, —â–æ –º–∞—é—Ç—å –±—É—Ç–∏ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—ñ
published_data_agg |> summarise(sum_n = sum(`–û–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ –Ω–∞–±–æ—Ä—ñ–≤`) / sum(`–ü—ñ–¥–ª—è–≥–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—é`))

published_data_agg |> summarise(sum_n = sum(`–û–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ –Ω–∞–±–æ—Ä—ñ–≤`))

# —Ü–µ 9 —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫—ñ–≤, —è–∫—ñ –≤—á–∞—Å–Ω–æ –æ–Ω–æ–≤–∏–ª–∏ —É—Å—ñ —Å–≤–æ—ó –Ω–∞–±–æ—Ä–∏
published_data_agg |> filter(`–ß–∞—Å—Ç–∫–∞ –≤—á–∞—Å–Ω–æ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö` == '100%') |> nrow()

# —Ü–µ 4, —è–∫—ñ –ø—Ä–∏–Ω–∞–π–º–Ω—ñ —â–æ—Å—å –æ–Ω–æ–≤–∏–ª–∏ –≤—á–∞—Å–Ω–æ
published_data_agg |> filter(!`–ß–∞—Å—Ç–∫–∞ –≤—á–∞—Å–Ω–æ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö` %in% c('100%', '0%')) |> nrow()

# —Ü–µ 24, —è–∫—ñ –≤—á–∞—Å–Ω–æ –Ω–µ –æ–Ω–æ–≤–∏–ª–∏ –∂–æ–¥–µ–Ω –∑—ñ —Å–≤–æ—ó –Ω–∞–±–æ—Ä—ñ–≤ - –∞–±–æ –≤–∑–∞–≥–∞–ª—ñ –Ω–µ –æ–ø—É–±–ª—ñ–∫—É–≤–∞–ª–∏ –Ω—ñ—á–æ–≥–æ
published_data_agg |> filter(`–ß–∞—Å—Ç–∫–∞ –≤—á–∞—Å–Ω–æ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö` %in% c('0%')) |> nrow()


published_data_agg |> summarise(sum_n = sum(`–û–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ –≤—á–∞—Å–Ω–æ`) / sum(`–ü—ñ–¥–ª—è–≥–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—é`))

published_data_agg |> summarise(sum_n = sum(`–û–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–æ –≤—á–∞—Å–Ω–æ`))
```

–ó 37 —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫—ñ–≤ –≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö —É –ø–æ—Å—Ç–∞–Ω–æ–≤—ñ, –Ω–∞–π–±—ñ–ª—å—à–µ –Ω–∞–±–æ—Ä—ñ–≤ –¥–∞–Ω–∏—Ö –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ –º–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–∏—Ç–∏ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –æ—Ñ—ñ—Å —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ—ó –≤–ª–∞—Å–Ω–æ—Å—Ç—ñ —Ç–∞ —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π (10), –í–∏—â–∞ –∫–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ü—ñ–π–Ω–∞ –∫–æ–º—ñ—Å—ñ—è —Å—É–¥–¥—ñ–≤ –£–∫—Ä–∞—ó–Ω–∏ (9), –ú—ñ–Ω‚Äô—é—Å—Ç (8) —Ç–∞ –í–∏—â–∞ —Ä–∞–¥–∞ –ø—Ä–∞–≤–æ—Å—É–¥–¥—è (5); –ø–æ–Ω–∞–¥ –ø–æ–ª–æ–≤–∏–Ω—É —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫—ñ–≤ –º–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–∏—Ç–∏ –ª–∏—à–µ –æ–¥–∏–Ω —Ç–∞–∫–∏–π –Ω–∞–±—ñ—Ä.

–£—Å—ñ —Å–≤–æ—ó –Ω–∞–±–æ—Ä–∏ –Ω–∞ –ü–æ—Ä—Ç–∞–ª—ñ –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –¥–∞–Ω–∏—Ö –æ–ø—Ä–∏–ª—é–¥–Ω–∏–ª–∏ 23 —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫–∏, —Å–µ—Ä–µ–¥ —ñ –Ω–∏—Ö —Ç–æ–ø-3 —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫—ñ–≤ –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é –Ω–∞–±–æ—Ä—ñ–≤, —â–æ –ø—ñ–¥–ª—è–≥–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—é. –ñ–æ–¥–Ω–æ–≥–æ –Ω–∞–±–æ—Ä—É –Ω–µ –æ–ø—Ä–∏–ª—é–¥–Ω–∏–ª–∏ 10 –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ–π, —Å–µ—Ä–µ–¥ –Ω–∏—Ö –ì–æ–ª–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å–Ω–∏–π —Ü–µ–Ω—Ç—Ä –ú–í–° —Ç–∞ –ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –ø–æ–ª—ñ—Ü—ñ—è –£–∫—Ä–∞—ó–Ω–∏, —è–∫—ñ –º–∞–ª–∏ –± –æ–ø—Ä–∏–ª—é–¥–Ω–∏—Ç–∏ –ø–æ 3 –Ω–∞–±–æ—Ä–∏. –ó–∞–≥–∞–ª–æ–º, —á–∞—Å—Ç–∫–∞ —Ñ–∞–∫—Ç–∏—á–Ω–æ –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–∏—Ö –Ω–∞–±–æ—Ä—ñ–≤ –≤—ñ–¥ —Ç–∏—Ö, —â–æ –ø—ñ–¥–ª—è–≥–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—é –∑–≥—ñ–¥–Ω–æ –∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–æ—é —Å–∫–ª–∞–¥–∞—î 74.4%, —Ç–æ–±—Ç–æ 61 –Ω–∞–±—ñ—Ä –∑ 82.

–°—Ç–∞–Ω–æ–º –Ω–∞ 01 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025 —Ä–æ–∫—É –≤—á–∞—Å–Ω–æ –æ–Ω–æ–≤–∏–ª–∏ —É—Å—ñ —Å–≤–æ—ó –Ω–∞–±–æ—Ä–∏ –ª–∏—à–µ 9 —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫—ñ–≤: —Å–µ—Ä–µ–¥ –Ω–∏—Ö –ù–ö–†–ï–ö–ü (3/3) —Ç–∞ –ê–≥–µ–Ω—Ç—Å—Ç–≤–æ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è (2/2). –£ 4 —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫—ñ–≤ —î —á–∞—Å—Ç–∏–Ω–∞ –Ω–∞–±–æ—Ä—ñ–≤, –æ–Ω–æ–≤–ª–µ–Ω–∏—Ö –≤—á–∞—Å–Ω–æ, —É —Ä–µ—à—Ç–∏ ‚Äî –æ–Ω–æ–≤–ª–µ–Ω—ñ –Ω–µ–≤—á–∞—Å–Ω–æ, –∞–±–æ –≤–∑–∞–≥–∞–ª—ñ –≤—ñ–¥—Å—É—Ç–Ω—ñ. –ó–∞–≥–∞–ª–æ–º, —á–∞—Å—Ç–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–∏—Ö –≤—á–∞—Å–Ω–æ –Ω–∞–±–æ—Ä—ñ–≤ –¥–∞–Ω–∏—Ö –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —É—Å—ñ—Ö –Ω–∞–±–æ—Ä—ñ–≤, —â–æ –ø—ñ–¥–ª—è–≥–∞—é—Ç—å –æ–ø—Ä–∏–ª—é–¥–Ω–µ–Ω–Ω—é, —Å–∫–ª–∞–¥–∞—î 34.1% ‚Äî –≤—á–∞—Å–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ 28 –Ω–∞–±–æ—Ä—ñ–≤ –∑ 82.

```{r}
#| echo: false
published_data_agg |> gt()
```

–°–ª—ñ–¥ –∑–∞—É–≤–∞–∂–∏—Ç–∏, —â–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—á–∏ –≤—á–∞—Å–Ω—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è, –º–∏ —Å–ø–∏—Ä–∞—î–º–æ—Å—è –Ω–∞ –¥–∞–Ω—ñ, —è–∫—ñ –≤—ñ–¥–¥–∞—î –ü–æ—Ä—Ç–∞–ª –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ API. –ü–æ 21 –Ω–∞–±–æ—Ä—É —Ä–µ–≥—É–ª—è—Ä–Ω—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ –∑–∞–∑–Ω–∞—á–µ–Ω–∞, —Ç–æ–º—É —Ä–µ–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤—á–∞—Å–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–∏—Ö –Ω–∞–±–æ—Ä—ñ–≤ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏—â–æ—é.

```{r}
#| echo: false
df |> count(update_frequency) |>
  rename(`–ö—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–∞–±–æ—Ä—ñ–≤` = n, `–†–µ–≥—É–ª—è—Ä–Ω—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è` = update_frequency) |>
  arrange(desc(`–ö—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–∞–±–æ—Ä—ñ–≤` )) |>
  mutate(`–†–µ–≥—É–ª—è—Ä–Ω—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è` = if_else(is.na(`–†–µ–≥—É–ª—è—Ä–Ω—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è`),
                                            '–Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö', `–†–µ–≥—É–ª—è—Ä–Ω—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è`)) |>
  gt()
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ —Ñ–∞–π–ª—ñ–≤ —É –Ω–∞–±–æ—Ä–∞—Ö –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ

–ë—ñ–ª—å—à—ñ—Å—Ç—å —Ä–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ —Ñ–∞–π–ª—ñ–≤ (—Ä–µ—Å—É—Ä—Å—ñ–≤) –ø—Ä–∏ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –Ω–∞–±–æ—Ä—ñ–≤ –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ.

```{r}
#| echo: false

package_formats <- 
package_formats |> mutate(
  file_format2 = if_else(file_format2 != '—ñ–Ω—à—ñ',
                         toupper(file_format2),
                         file_format2
                         ),
  file_format2 = str_remove(file_format2, '\\.')
) 

package_formats |> count(file_format_type) |> 
  mutate(n_share = percent(n/sum(n), .accuracy = 2)) |>
  rename(`–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª—ñ–≤` = file_format_type,
         `–ß–∞—Å—Ç–∫–∞` = n_share) |>
  select(-n) |>
  arrange(desc(–ß–∞—Å—Ç–∫–∞)) |>
  gt()
```

–°–µ—Ä–µ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤, –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–º–∏ —î —Ç–∞–±–ª–∏—á–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ XLS(X) —Ç–∞ CSV/TSV. –£ 14% –≤–∏–ø–∞–¥–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (API). –°–µ—Ä–µ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ –±–ª–∏–∑—å–∫–æ –ø'—è—Ç–æ—ó —á–∞—Å—Ç–∏–Ω–∏ –ø—Ä–∏–ø–∞–¥–∞—î –Ω–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ ‚Äî JSON —Ç–∞ XML.

```{r}
#| echo: false

# package_formats |> 
#   filter(file_format2 == 'API') 
# 
# package_formats |> 
#   filter(file_format_type == '—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π') |>
#   count(file_format2) |> 
#   mutate(n_share = percent(n/sum(n), .accuracy = 2)) |>
#   str()

package_formats |> 
  filter(file_format_type == '—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π') |>
  count(file_format2) |> 
  mutate(n_share = n/sum(n)) |>
  rename(`–§–æ—Ä–º–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤` = file_format2,
         `–ß–∞—Å—Ç–∫–∞` = n_share) |>
  select(-n) |>
  arrange(desc(–ß–∞—Å—Ç–∫–∞)) |>
  mutate(–ß–∞—Å—Ç–∫–∞ = percent(–ß–∞—Å—Ç–∫–∞, .accuracy = .2)) |>
  gt()
```

–°–µ—Ä–µ–¥ —Ç–∏—Ö, —Ö—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –≤–∏–¥—ñ–ª—è—é—Ç—å—Å—è –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü—ñ–π–Ω–∏–π —Å—É–¥, —è–∫–∏–π –ø—É–±–ª—ñ–∫—É—î 96.8% —É—Å—ñ—Ö —Ñ–∞–π–ª—ñ–≤ —É –Ω–∞–±–æ—Ä–∞—Ö –≤–∏—Å–æ–∫–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ —É –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ, –∞ —Å–∞–º–µ ‚Äî DOC. –ê–ø–∞—Ä–∞—Ç –í–µ—Ä—Ö–æ–≤–Ω–æ—ó –†–∞–¥–∏ –£–∫—Ä–∞—ó–Ω–∏ –ø–æ—Ä—è–¥ –∑—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î TXT, JPEG, HTML, DOC ‚Äî —â–æ —Ä–∞–∑–æ–º —Å–∫–ª–∞–¥–∞—é—Ç—å 32.9%. –ê–≥–µ–Ω—Ç—Å—Ç–≤–æ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —É 22.4% –≤–∏–ø–∞–¥–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î PDF —Ç–∞ DOC.

```{r}
#| include: false

package_formats |> filter(file_format_type == '–Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π') |>
  filter(org_name_postanova %in% c('–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü—ñ–π–Ω–∏–π –°—É–¥ –£–∫—Ä–∞—ó–Ω–∏', '–í–µ—Ä—Ö–æ–≤–Ω–∞ –†–∞–¥–∞ –£–∫—Ä–∞—ó–Ω–∏',
                                   '–ê–≥–µ–Ω—Ç—Å—Ç–≤–æ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è')) |> View()

```

```{r}
#| echo: false

package_formats |>
  pivot_wider(names_from = file_format_type, values_from = n) |>
  mutate(across(where(is.numeric), ~ replace_na(., 0))) |>
  summarise(
    –∞—Ä—Ö—ñ–≤–∏ = sum(–∞—Ä—Ö—ñ–≤–∏),
    —Å—Ç—Ä—É–∫—Ç = sum(—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π),
    –Ω–µ—Å—Ç—Ä—É–∫—Ç = sum(–Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π),
    `–Ω–µ –≤–∫–∞–∑–∞–Ω–æ` = sum(`–Ω–µ –≤–∫–∞–∑–∞–Ω–æ`),
    .by = org_name_postanova
  ) |>
  rename(–†–æ–∑–ø–æ—Ä—è–¥–Ω–∏–∫ = org_name_postanova) |>
  mutate(
    n_total = –∞—Ä—Ö—ñ–≤–∏ + —Å—Ç—Ä—É–∫—Ç + –Ω–µ—Å—Ç—Ä—É–∫—Ç + `–Ω–µ –≤–∫–∞–∑–∞–Ω–æ`,
    # Keep as numeric proportions (0 to 1)
    p_–∞—Ä—Ö—ñ–≤—ñ–≤ = –∞—Ä—Ö—ñ–≤–∏ / n_total,
    p_—Å—Ç—Ä—É–∫—Ç = —Å—Ç—Ä—É–∫—Ç / n_total,
    p_–Ω–µ—Å—Ç—Ä—É–∫—Ç = –Ω–µ—Å—Ç—Ä—É–∫—Ç / n_total
  ) |>
  select(-n_total, -`–Ω–µ –≤–∫–∞–∑–∞–Ω–æ`) |>
  arrange(desc(p_–Ω–µ—Å—Ç—Ä—É–∫—Ç)) |>
  gt() |>
  # üëá Format the new proportion columns to percentage with 2 decimals
  fmt_percent(
    columns = starts_with("p_"),
    decimals = 1
  ) |>
  # üëá Optionally rename the columns back (if desired)
  cols_label(
    p_–∞—Ä—Ö—ñ–≤—ñ–≤ = "%–∞—Ä—Ö—ñ–≤—ñ–≤",
    p_—Å—Ç—Ä—É–∫—Ç = "%—Å—Ç—Ä—É–∫—Ç",
    p_–Ω–µ—Å—Ç—Ä—É–∫—Ç = "%–Ω–µ—Å—Ç—Ä—É–∫—Ç"
  ) |>
  tab_header(
    title = "–†–µ—Å—É—Ä—Å–∏ (—Ñ–∞–π–ª–∏) –Ω–∞–±–æ—Ä—ñ–≤ –¥–∞–Ω–∏—Ö –∑–∞ —Ç–∏–ø–æ–º —Ñ–æ—Ä–º–∞—Ç—ñ–≤"
  )

```

–ü—Ä–æ–±–ª–µ–º–∞ —ñ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ —Ç–∞–∫—ñ —Ñ–æ—Ä–º–∞—Ç–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –Ω–∞–±–∞–≥–∞—Ç–æ –±—ñ–ª—å—à–µ —á–∞—Å—É –Ω–∞ –æ–±—Ä–æ–±–∫—É –¥–ª—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, —â–æ —Å—Ç–≤–æ—Ä—é—î –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ –ø–µ—Ä–µ—à–∫–æ–¥–∏ –¥–ª—è –±—ñ–∑–Ω–µ—Å—É, –¥–æ—Å–ª—ñ–¥–Ω–∏–∫—ñ–≤ —Ç–∞ –≥—Ä–æ–º–∞–¥—è–Ω, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –¥–µ—Ä–∂–∞–≤–Ω–∏–º–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º–∏ –¥–∞–Ω–∏–º–∏.
